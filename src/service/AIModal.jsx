import { GoogleGenerativeAI } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel plan for Location: Las Vegas, for 3 days for couple with a cheap budget, Give me Hotels options list with Hotel Name, Hotel Address, Price, Hotel image URL, Geo coordinates, rating, descriptions and suggest itinerary with Placename, Place Details, Place image URL, Geo coordinates, ticket pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON Format. \n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a JSON-formatted travel plan for a 3-day, budget-friendly trip to Las Vegas for a couple. I've focused on free or low-cost activities and affordable hotels, plus included all the data you requested:\n\n```json\n{\n  \"tripName\": \"Las Vegas Budget Getaway for Couples\",\n  \"duration\": \"3 Days\",\n  \"budget\": \"Cheap\",\n  \"travelers\": \"Couple\",\n  \"hotels\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40- $80/night\",\n      \"hotelImageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/1c/02/22/48/circus-circus-hotel-casino.jpg\",\n       \"geoCoordinates\": {\n          \"latitude\": 36.1377,\n          \"longitude\": -115.1675\n        },\n      \"rating\": 3.5,\n      \"description\": \"A classic Las Vegas hotel with a fun circus theme, offering budget-friendly rooms and on-site attractions like the Adventuredome.\"\n    },\n     {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50 - $90/night\",\n      \"hotelImageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/17/92/b3/ff/excalibur-hotel-casino.jpg\",\n       \"geoCoordinates\": {\n          \"latitude\": 36.0988,\n          \"longitude\": -115.1741\n        },\n      \"rating\": 4.0,\n      \"description\": \"A medieval-themed hotel on the Strip with affordable rates, a pool complex, and various dining options.\"\n    },\n      {\n      \"hotelName\": \"OYO Hotel & Casino Las Vegas\",\n      \"hotelAddress\": \"115 E Tropicana Ave, Las Vegas, NV 89109\",\n      \"price\": \"$30 - $70/night\",\n      \"hotelImageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/27/55/c0/2a/oyo-hotel-casino-las-vegas.jpg\",\n       \"geoCoordinates\": {\n           \"latitude\": 36.0995,\n           \"longitude\": -115.1675\n        },\n      \"rating\": 3.0,\n      \"description\": \"Budget-friendly option near the Strip, offering basic amenities and a pool.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip\",\n       \"bestTimeToVisit\": \"Late afternoon/evening\",\n      \"places\": [\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Gardens\",\n          \"placeDetails\": \"A stunning display of horticultural art that changes with the seasons. It's free to enter.\",\n          \"placeImageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/1c/32/28/d4/bellagio-conservatory-botanical.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1126,\n             \"longitude\": -115.1742\n           },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.8,\n           \"travelTime\": \"Hotel to Bellagio - 10-20 mins depends on hotel location\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountains\",\n          \"placeDetails\": \"Spectacular water, music, and light show in front of the Bellagio. Free to watch.\",\n          \"placeImageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/1a/c6/ca/92/bellagio-fountains.jpg\",\n             \"geoCoordinates\": {\n              \"latitude\": 36.1128,\n              \"longitude\": -115.1738\n            },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.9,\n          \"travelTime\": \"0 min (located in front of Bellagio)\"\n        },\n          {\n          \"placeName\": \"The LINQ Promenade\",\n          \"placeDetails\": \"Outdoor shopping, dining, and entertainment area with street performers and lively atmosphere.\",\n          \"placeImageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/0b/79/1b/a6/the-linq-promenade.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1165,\n             \"longitude\": -115.1693\n            },\n          \"ticketPricing\": \"Free (cost for attractions and dining)\",\n          \"rating\": 4.5,\n             \"travelTime\": \"Bellagio to Linq - 10 mins walk\"\n\n        },\n         {\n          \"placeName\": \"High Roller Observation Wheel\",\n          \"placeDetails\": \"Enjoy breathtaking views of the Strip from this observation wheel. (Optional, costs extra)\",\n          \"placeImageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/15/f5/92/58/high-roller-observation.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1163,\n               \"longitude\": -115.1683\n            },\n          \"ticketPricing\": \"$30-40\",\n          \"rating\": 4.6,\n              \"travelTime\": \"0 min (Located in Linq)\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown and Fremont Street Experience\",\n         \"bestTimeToVisit\": \"Afternoon/Evening\",\n      \"places\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A pedestrian mall with a massive LED canopy screen, free light shows, street performers, and classic casinos.\",\n          \"placeImageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/1b/8c/90/52/fremont-street-experience.jpg\",\n          \"geoCoordinates\": {\n             \"latitude\": 36.1703,\n             \"longitude\": -115.1401\n            },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.6,\n            \"travelTime\": \"Hotel to Fremont - 20-30 mins depends on hotel location\"\n        },\n           {\n          \"placeName\": \"Container Park\",\n          \"placeDetails\": \"Unique shopping and dining area built from shipping containers, with a playground and live entertainment.\",\n          \"placeImageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/09/60/13/06/container-park.jpg\",\n           \"geoCoordinates\": {\n             \"latitude\": 36.1668,\n             \"longitude\": -115.1403\n            },\n          \"ticketPricing\": \"Free (cost for shopping and dining)\",\n          \"rating\": 4.4,\n          \"travelTime\": \"Fremont to Container Park - 5 mins walk\"\n        },\n        {\n           \"placeName\": \"The Mob Museum\",\n            \"placeDetails\": \"An interactive museum dedicated to the history of organized crime in America. (Optional, costs extra)\",\n            \"placeImageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/14/0a/1f/57/the-mob-museum.jpg\",\n             \"geoCoordinates\": {\n                \"latitude\": 36.1696,\n                \"longitude\": -115.1402\n                },\n           \"ticketPricing\": \"$30 - $35\",\n           \"rating\": 4.7,\n             \"travelTime\": \"Container Park to Mob Museum - 5 mins walk\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Relaxing and Exploring South Strip\",\n        \"bestTimeToVisit\": \"Morning/Afternoon\",\n      \"places\": [\n         {\n          \"placeName\": \"Welcome to Fabulous Las Vegas Sign\",\n          \"placeDetails\": \"Take a picture at the iconic sign at the south end of the Strip. Free.\",\n          \"placeImageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/13/f0/0a/87/welcome-to-fabulous-las.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0837,\n            \"longitude\": -115.1717\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.6,\n           \"travelTime\": \"Hotel to Las Vegas Sign - 10-20 mins depends on hotel location\"\n        },\n        {\n          \"placeName\": \"M&M's World Las Vegas\",\n           \"placeDetails\": \"A colorful, multi-story store dedicated to all things M&M's. Free to enter.\",\n          \"placeImageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/0c/5b/0d/4f/m-m-s-world.jpg\",\n           \"geoCoordinates\": {\n              \"latitude\": 36.1033,\n               \"longitude\": -115.1732\n             },\n           \"ticketPricing\": \"Free (cost for purchases)\",\n          \"rating\": 4.2,\n           \"travelTime\": \"Las Vegas Sign to M&M - 10-15 mins via taxi\"\n       },\n        {\n          \"placeName\": \"Coke Store Las Vegas\",\n          \"placeDetails\": \"Experience the world of Coca-Cola with merchandise and tasting options. Free to enter.\",\n          \"placeImageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/0b/75/45/18/coca-cola-store.jpg\",\n             \"geoCoordinates\": {\n             \"latitude\": 36.1032,\n              \"longitude\": -115.1737\n            },\n           \"ticketPricing\": \"Free (cost for tasting and purchases)\",\n          \"rating\": 4.1,\n           \"travelTime\": \"M&M to Coke store - 0 mins (Both located side by side)\"\n        },\n         {\n          \"placeName\":\"Explore Hotel Themes\",\n          \"placeDetails\":\"Walk through themed hotels like the Venetian, Paris, and New York New York. Enjoy free exhibits and photo ops.\",\n          \"placeImageURL\":\"https://media-cdn.tripadvisor.com/media/photo-s/1c/63/7a/b3/the-venetian.jpg\",\n           \"geoCoordinates\": {\n               \"latitude\": 36.1176,\n                \"longitude\": -115.1705\n            },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.7,\n            \"travelTime\":\"Coke store to The Venetian- 5-10 mins via walk\"\n         }\n\n      ]\n    }\n  }\n}\n```\n\n**Important Notes:**\n\n*   **Prices:** Hotel and ticket prices are estimates and can vary depending on the time of year, day of the week, and availability.  Always check current prices when booking.\n*   **Transportation:**  Walking is a great way to see the Strip. Consider using ride-sharing services or the public bus (RTC) for longer distances. For budget travel, avoid Taxis and renting a car.\n*   **Food:** For budget meals, look for casual dining options, food courts, and grocery stores.\n*   **Flexibility:** This is just a suggestion. Feel free to adjust the itinerary to suit your interests and pace.\n*   **Free Activities:** Many attractions on the strip are free. Take advantage of these to keep costs low.\n*   **Booking:** Consider booking hotels and any optional paid activities in advance, especially during peak seasons.\n\nThis should give you a good starting point for your Las Vegas getaway! Let me know if you need any more assistance.\n"},
          ],
        },
      ],
    });
 